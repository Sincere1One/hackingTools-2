http=require("http");

exports.MakeGet=
function(hostname, port, pathAndQuery, callback, onError)
{
    var options = {
        hostname: hostname,
        port: port,
        path: pathAndQuery,
        method: 'GET',
        headers: {
            "remote-addr": "127.0.0.1"
        },
    };
    var req = http.request(options, function(res) {
        res.setEncoding('utf8');
        var body="";
        res.on('data', function (chunk) {
            body+=chunk;
        });
        res.on('end', function() {
            callback(body);
        })
    });
    req.on('error', function(e) {
        if (onError!=null)
            onError(e);
    });

    req.end();
}
